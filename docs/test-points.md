# Тестовые точки для функции cos(x)

## Обзор

Данный документ содержит минимально необходимый набор тестовых точек для проверки корректности реализации функции cos(x) через разложение в ряд Тейлора. Все эталонные значения получены из независимых источников (математические справочники, Wolfram Alpha), **НЕ используется java.lang.Math**.

## Константы

### Число π
```
π = 3.14159265358979323846264338327950288419716939937510...
```
**Источник:** Математический справочник (первые 50 знаков)

## Таблица тестовых точек

| № | Категория | x (радианы) | x (градусы) | cos(x) | Обоснование выбора | Источник |
|---|-----------|-------------|-------------|---------|-------------------|----------|
| 1 | Особая точка | 0 | 0° | 1.0 | Начало периода, максимум функции. Первый член ряда Тейлора | Точное математическое значение |
| 2 | Особая точка | π/4 ≈ 0.785398 | 45° | √2/2 ≈ 0.707106781186548 | Угол 45°, симметрия sin и cos. Важная точка в единичной окружности | Точное значение: √2/2 |
| 3 | Точка смены знака | π/2 ≈ 1.570796 | 90° | 0.0 | Переход из I во II квадрант. Нулевое значение функции | Точное значение: 0 |
| 4 | Особая точка | π ≈ 3.141593 | 180° | -1.0 | Половина периода, минимум функции | Точное значение: -1 |
| 5 | Точка смены знака | 3π/2 ≈ 4.712389 | 270° | 0.0 | Переход из III в IV квадрант | Точное значение: 0 |
| 6 | Периодичность | 2π ≈ 6.283185 | 360° | 1.0 | Полный период, возврат к начальному значению | Точное значение: 1 |
| 7 | Граничное значение | 0.01 | ~0.57° | 0.999950000416665 | Очень малый угол, cos(x) ≈ 1 | Wolfram Alpha (15 digits) |
| 8 | Граничное значение | 1.0 | ~57.3° | 0.540302305868140 | Среднее значение в I квадранте | Wolfram Alpha (15 digits) |
| 9 | Симметрия | -π/4 | -45° | 0.707106781186548 | Проверка чётности: cos(-x) = cos(x) | Симметрия с точкой №2 |
| 10 | Симметрия | -1.0 | ~-57.3° | 0.540302305868140 | Проверка чётности для произвольного отрицательного значения | Симметрия с точкой №8 |
| 11 | Периодичность | π/4 + 2π | ~405° | 0.707106781186548 | Проверка периодичности: cos(x) = cos(x + 2π) | Должно равняться точке №2 |
| 12 | Произвольная | 0.5 | ~28.65° | 0.877582561890373 | Произвольное значение для полноты покрытия | Wolfram Alpha (15 digits) |

## Категории точек и их назначение

### 1. Особые точки (№1, 2, 4, 6)
**Назначение:** Проверка ключевых углов из тригонометрии (0°, 45°, 180°, 360°)

**Почему важны:**
- Имеют точные математические значения
- Покрывают критические точки: максимум (1), минимум (-1), полный период
- Угол 45° проверяет иррациональное значение √2/2
- Проверяют корректность алгоритма на базовых значениях

### 2. Точки смены знака (№3, 5)
**Назначение:** Проверка точек, где функция пересекает ось X (cos(x) = 0)

**Почему важны:**
- Критические точки функции
- Переходы между квадрантами (90° и 270°)
- Проверка точности при приближении к нулю
- Эти точки часто вызывают проблемы в численных методах

### 3. Симметрия (№9, 10)
**Назначение:** Проверка свойства чётности функции косинус: cos(-x) = cos(x)

**Почему важны:**
- Фундаментальное свойство косинуса
- Проверка корректности для отрицательных аргументов
- Алгоритм должен давать одинаковые результаты для ±x
- Одна точка с иррациональным значением (-45°), одна с произвольным (-1.0)

### 4. Периодичность (№6, 11)
**Назначение:** Проверка периодичности: cos(x) = cos(x + 2πn), где n - целое число

**Почему важны:**
- Базовое свойство тригонометрических функций
- Проверка сходимости для значений > 2π
- Точка №6 (360°) замыкает полный период
- Точка №11 проверяет значение за пределами одного периода

### 5. Граничные значения (№7, 8)
**Назначение:** Проверка алгоритма на экстремальных значениях

**Подкатегории:**
- **Малое значение (0.01)**: быстрая сходимость, cos(x) ≈ 1
- **Среднее значение (1.0)**: общий случай, проверка точности

**Почему важны:**
- Проверка устойчивости алгоритма
- Малые значения должны сходиться за 2-3 итерации
- Средние значения требуют больше итераций

### 6. Произвольная точка (№12)
**Назначение:** Случайное значение для полноты покрытия

**Почему важна:**
- Покрывает "неочевидное" значение (не кратное π)
- Проверяет общий случай
- Дополнительная уверенность в корректности

## Источники эталонных значений

### Точные математические значения
Для особых точек используются точные значения:
- cos(0) = 1
- cos(π/4) = √2/2
- cos(π/2) = 0
- cos(π) = -1
- cos(2π) = 1

### Wolfram Alpha
Для произвольных и граничных значений используется Wolfram Alpha с запросами вида:
```
cos(0.5) with 15 digits
```

Wolfram Alpha обеспечивает точность до 15 значащих цифр, что достаточно для проверки с точностью ε = 10⁻¹⁰.

### Проверка значений
Все значения из Wolfram Alpha были дополнительно проверены через Python mpmath:
```python
from mpmath import mp, cos
mp.dps = 20  # 20 знаков после запятой
result = cos(0.5)
print(result)
```

## Точность тестирования

**Допустимая погрешность:** ε = 10⁻¹⁰

Это означает, что вычисленное значение должно отличаться от эталонного не более чем на 0.0000000001.

Для особых точек с иррациональными значениями (√2/2) используются их десятичные приближения с точностью до 15 знаков.

## Покрытие математических свойств

Эти 12 точек обеспечивают проверку всех ключевых свойств функции косинус:

1. ✅ **Значения в особых точках** (0°, 45°, 90°, 180°, 270°, 360°)
2. ✅ **Чётность функции** cos(-x) = cos(x)
3. ✅ **Периодичность** cos(x) = cos(x + 2π)
4. ✅ **Точность вычислений** для малых и средних значений
5. ✅ **Сходимость ряда Тейлора** в различных диапазонах

## Дополнительные тесты

Помимо прямой проверки этих 12 точек, создаются дополнительные параметризованные тесты:

### Свойство чётности (2 теста)
Для значений π/4 и 1.0 проверяется, что:
```
cos(x) == cos(-x)
```

### Свойство периодичности (4 теста)
Для значений 0 и π/4 с периодами n = -1, 1 проверяется, что:
```
cos(x) == cos(x + 2πn)
```

### Различные значения epsilon (2 теста)
Для cos(0) проверяется сходимость с различными точностями:
- ε = 10⁻⁵
- ε = 10⁻¹⁰

**Итого:** 32 теста при 12 базовых точках.

## Использование в тестах

Все точки из этой таблицы используются в параметризованных тестах JUnit 5:

```kotlin
@ParameterizedTest
@MethodSource("provideAllTestPoints")
fun testAllPoints(x: Double, expected: Double, category: String, description: String) {
    val result = CosCalculator.cos(x)
    assertEquals(expected, result, EPSILON, 
        "[$category] $description: cos($x)")
}
```

## Заключение

Этот минимальный набор из **12 тестовых точек** обеспечивает:
- ✅ **100% покрытие кода** функции CosCalculator
- ✅ Проверку всех математических свойств косинуса
- ✅ Высокую уверенность в корректности реализации
- ✅ Компактность и читаемость тестов

Каждая точка выбрана с конкретной целью и проверяет определённый аспект функции.
