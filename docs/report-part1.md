# Отчёт о выполнении части 1: Модульное тестирование функции cos(x)

**Студент:** Рекалов Артём Олегович, P3309  
**Вариант:** 330989  
**Дата:** 15 февраля 2026

## Задание

Для функции `cos(x)` провести модульное тестирование разложения функции в степенной ряд. Выбрать достаточное тестовое покрытие.

## Выполнение

### 1. Реализация функции

Создан объект `CosCalculator` с методом `cos(x, epsilon)`, который вычисляет косинус через разложение в ряд Тейлора:

```kotlin
cos(x) = 1 - x²/2! + x⁴/4! - x⁶/6! + x⁸/8! - ...
```

**Особенности реализации:**
- Максимально простой алгоритм (всего 13 строк кода)
- Итеративное вычисление членов ряда
- Остановка при достижении требуемой точности (epsilon)
- Использование рекуррентных формул для оптимизации

**Файл:** `src/main/kotlin/com/arekalov/tpolab1/math/CosCalculator.kt`

### 2. Тестовые данные

#### 2.1 Документация тестовых точек

Создан подробный документ `docs/test-points.md` с:
- **54 тестовые точки** различных категорий
- Обоснование выбора каждой точки
- Указание источника эталонного значения
- Описание проверяемого свойства функции

#### 2.2 Источники эталонных значений

**НЕ использовался** `java.lang.Math.cos()` для получения эталонных значений!

Использованы:
1. **Точные математические значения**:
   - cos(0) = 1
   - cos(π/6) = √3/2
   - cos(π/4) = √2/2
   - cos(π/3) = 1/2
   - и т.д.

2. **Wolfram Alpha** (точность 15 знаков):
   - Запросы вида: `cos(0.5) with 15 digits`
   - Результат: 0.877582561890373

3. **Математические справочники**:
   - Константа π с точностью до 50 знаков
   - Стандартные тригонометрические значения

**Файл:** `src/test/kotlin/com/arekalov/tpolab1/math/CosTestData.kt`

### 3. Стратегия тестирования

Все тесты реализованы как **параметризованные** с использованием **JUnit 5**:

#### 3.1 Категории тестов

| Категория | Количество точек | Назначение |
|-----------|------------------|------------|
| Особые точки | 17 | Стандартные углы (0°, 30°, 45°, 60°, ... 360°) |
| Граничные значения | 10 | Малые (0.0001-0.1) и средние (1-6) значения x |
| Симметрия | 9 | Проверка свойства cos(-x) = cos(x) |
| Периодичность | 4 | Проверка cos(x) = cos(x + 2πn) |
| Произвольные точки | 2 | Случайные значения для полноты |
| Квадранты | 2 | Проверка знака функции в квадрантах |
| **ИТОГО** | **44 точки** | В тестовых данных |

#### 3.2 Типы параметризованных тестов

1. **testAllPoints** - все точки (44 теста)
2. **testSpecialPoints** - особые точки (17 тестов)
3. **testBoundaryPoints** - граничные значения (10 тестов)
4. **testSymmetryPoints** - точки симметрии (9 тестов)
5. **testSymmetryProperty** - свойство чётности для 9 значений (9 тестов)
6. **testPeriodicityPoints** - точки периодичности (4 теста)
7. **testPeriodicityProperty** - свойство периодичности для 4 базовых значений × 4 периода (16 тестов)
8. **testArbitraryPoints** - произвольные точки (2 теста)
9. **testQuadrantPoints** - квадранты (2 теста)
10. **testDifferentEpsilons** - тесты с разными epsilon (5 тестов)

**Файл:** `src/test/kotlin/com/arekalov/tpolab1/math/CosCalculatorTest.kt`

### 4. Результаты тестирования

#### 4.1 Тесты

```
✅ Всего тестов: 118
✅ Успешно: 118
❌ Провалено: 0
⏱ Время выполнения: 0.054s
```

#### 4.2 Покрытие кода (JaCoCo)

**Класс `CosCalculator`:**

| Метрика | Покрытие |
|---------|----------|
| **Инструкции** | **100%** (47/47) |
| **Ветки** | **100%** (2/2) |
| **Строки** | **100%** (9/9) |
| **Методы** | **100%** (2/2) |
| **Классы** | **100%** (1/1) |

### 5. Проверенные свойства функции косинус

#### 5.1 Математические свойства
- ✅ Значения в особых точках (0, π/6, π/4, π/3, π/2, π, 3π/2, 2π)
- ✅ Чётность: cos(-x) = cos(x)
- ✅ Периодичность: cos(x) = cos(x + 2πn)
- ✅ Знак в квадрантах:
  - I квадрант: cos(x) > 0
  - II квадрант: cos(x) < 0

#### 5.2 Точность вычислений
- ✅ Погрешность ≤ 10⁻¹⁰ для всех тестовых точек
- ✅ Сходимость ряда для различных epsilon (10⁻⁵, 10⁻⁸, 10⁻¹⁰, 10⁻¹², 10⁻¹⁵)

#### 5.3 Граничные случаи
- ✅ Очень малые значения (10⁻⁴ - 10⁻¹): быстрая сходимость
- ✅ Средние значения (1-6): корректное вычисление

### 6. Использованные технологии

- **Язык:** Kotlin 2.0.21
- **Фреймворк тестирования:** JUnit 5 (Jupiter 5.10.0)
- **Параметризованные тесты:** JUnit Jupiter Params
- **Покрытие кода:** JaCoCo 0.8.12
- **Сборка:** Gradle 8.10
- **JDK:** 17

### 7. Структура проекта

```
tpo-lab1/
├── src/
│   ├── main/kotlin/com/arekalov/tpolab1/math/
│   │   └── CosCalculator.kt (13 строк кода)
│   └── test/kotlin/com/arekalov/tpolab1/math/
│       ├── CosCalculatorTest.kt (265 строк)
│       └── CosTestData.kt (106 строк)
├── docs/
│   └── test-points.md (198 строк документации)
├── build.gradle.kts (JaCoCo, JUnit 5)
└── README.md
```

### 8. Команды для проверки

```bash
# Запуск всех тестов
./gradlew test

# Генерация отчёта о покрытии
./gradlew jacocoTestReport

# Проверка покрытия
./gradlew jacocoTestCoverageVerification
```

**Отчёты:**
- Тесты: `build/reports/tests/test/index.html`
- Покрытие: `build/reports/jacoco/test/html/index.html`

## Выводы

1. ✅ Функция cos(x) успешно реализована через разложение в ряд Тейлора
2. ✅ Достигнуто **100% покрытие кода** тестами
3. ✅ Реализовано **118 параметризованных тестов** с использованием JUnit 5
4. ✅ Все эталонные значения получены из независимых источников (НЕ java.lang.Math)
5. ✅ Проверены все основные математические свойства функции косинус
6. ✅ Точность вычислений составляет 10⁻¹⁰ для всех тестовых случаев
7. ✅ Создана подробная документация с обоснованием выбора каждой тестовой точки

## Критерии успешности

| Критерий | Статус |
|----------|--------|
| Все тесты проходят | ✅ 118/118 |
| Покрытие кода = 100% | ✅ 100% |
| Точность ≤ 10⁻¹⁰ | ✅ Да |
| Все тесты параметризованные | ✅ Да |
| Табличные значения НЕ из java.lang.Math | ✅ Да |
| Использование JUnit 5 | ✅ Да |
| JaCoCo подтверждает 100% покрытие | ✅ Да |
| Документация тестовых точек | ✅ Да |

**Задание выполнено полностью!** ✅
